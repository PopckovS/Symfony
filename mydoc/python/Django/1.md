##Фреймворк Django

### Введение, становка Вирт среды
На момент 2020 актуальной версией является Django 3.0 Как мы помним Python 
можно делать виртуальное окружение virtualenv. Тоесть мы можем установить
Django к локально в вирт.окружение так и глобально, но при установке 
глобально, может возникнуть конфлик версий, если глобально установить
несколько версий они могут конфликт др с др, если зависят от рвзных версий 
одного и того же пакета.

    // Глобальная установка библиотеки для создания вирт сред
    pip3 install virtualenv

    // Может возникнуть ошибка
    // The virtual environment was not created successfully 
    // because ensurepip is not available
    // ля ее исправления используем
    sudo apt-get install python3-venv

    // Создание вир среды в конкретном каталоге для версии Python более 3
    python3 -m venv env

Создан каталог `env` в который будет уст-ть лок библиотеки.

    // Чтоыб перевести терминал в раежим работы с вирт средой 
    // конкретно этого проекта, используем 
    source env/bin/activate

Видим что в терминале появляется префикс `env` что указывает что мы работаем
с этой вирт средой. Чтобы деактивировать работу с этой вирт средой запустим:

    (env) $ deactivate

### Шаг 1 Создание проекта
Устанавливаем Django локально:

    pip3 install django

Проверка что Django установлен:

    python3 -m django --version
    
    3.1.15

После того как Django установлен локально, создаем проект при помощи команды:

    django-admin startproject mysite

django-admin - Утилита для работы с Django, startproject - создать проект,
mysite - название проекта.

После создания,олучим следуюшую структуру приложения:

    mysite/
        manage.py
        mysite/
            __init__.py
            settings.py
            urls.py
            asgi.py
            wsgi.py

Разерем проект по файлам:

1.mysite/ - Внешний контейнер, его бназвание значение не имеет.

2.manage.py - утилита,ля работы с проектом на Django. По сути это просто 
эквивалент `bin/console` из фреймворкка Symfony.

3.mysite/ внутренний каталог, из него будем импортировать нужные модули.

4.`__init__.py` Пустой файл что указывает что даанная директория, должна 
расматриваться как пакет питона.

5.settings.py файл конфигов, является ангалогом файла .env из Symfony.

6.urls.py тут собраны URL сайта

7.asgi.py - ASGI запуск собственного сервера для проекта.

8.wsgi.py - WSGI точка входа для совместных веб серверов.

### Шаг 2 Запуск проекта
Переходим в директорию проекта, и запускаем сервер проекта, по умолчанию 
сервер зарпускается на 8000 порту,  это можно изменить указав нужный
порт, при запуске сервера.

    // Запуск на 8000 порту
    python manage.py runserver

    // Запуск на 2323 порту
    python manage.py runserver 2323

Эта команда запустит сервер на порту  `http://127.0.0.1:8000/` также в корне 
проекта будет создан `db.sqlite3` по дефолту проект работает с БД SQL Lite.
также если в настойках не указана другая Бд с которой мы будем работать, то 
файл `db.sqlite3` будет сгенерирован в корне сайта автоматически.

Также при запуске получим предепредждение о том что миграции не применены,
тоетсь невыполнены миграции для создания основных записей в Бд для работы
приложения, и предложение выполнить эти миграции для работы приложения.

    You have 18 unapplied migration(s). 
    Your project may not work properly until you apply the migrations
    for app(s): admin, auth, contenttypes, sessions.

    Run 'python manage.py migrate' to apply them.

    






