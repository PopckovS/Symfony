##SQL Урок 10 Создание Таблиц, внесения данных

### Создание таблиц

    CREATE TABLE Products(
            prod_id     VARCHAR(10)  NOT NULL,  
            vend_id     VARCHAR(10)  NOT NULL,
            prod_name   VARCHAR(254) NOT NULL,
            prod_price  INT          NOT NULL,
            prod_desc   VARCHAR(254)     NULL,
        );

Для создания столбца в таблице указываем след параметры

    название    тип          принимает NULL/NOT NULL
    prod_id     VARCHAR(10)  NOT NULL;

разделение указанных столбцов происходит запятой.

Если значение по умолчанию не указано, и при этом поле допускает
NULLо будет вставлено значение NULL. Если есть значние по умолчанию 
то будет вставлено оно.

    prod_price  INT          NOT NULL  DEFAULT 1,
    prod_name   VARCHAR(254) NOT NULL  DEFAULT 'название',

Значение по умолчанию указывается в самом конце строки.

### Обновление таблиц: ADD, DROP
Для обновления/изменнения свойства таблицы требуется использовать
`ALTER TABLE` 

Добавление столбца в таблицу при помощи ключ слова ADD.

    ALTER TABLE Vendors
    ADD vendor_phone VARCHAR(20);

Удаление столбца из таблицы
    
    ALTER_TABLE Vendors
    DROP COLUMN vaend_phone;

### Удаление таблицы. DROP TABLE
Процесс удаления таблицы очень прост. 

    DROP TABLE CustCopy;



### Добавление Данных
Внесение данных в таблицу, осуществляется при помощи инструкции
INSERT. Существует 3 способа как это сделать:

### 1) Обычный INSERT с последовательным перечислением всех полей.
Пример простого внесения строки данных в таблицу, при таком 
использовании требуется указывать все значения в томже порядке
в котором они перечислены в таблице.

Первый способ записи:

    INSERT INTO Customers
    VALUES (
            1,
            'Toy Land',
            '123 AnyStreet',
            'NY',
            5167,
            NULL,
            NULL
        );

Второй способ записи:

    INSERT INTO 
    Customers(
            cust_id,
            cust_name,
            cust_city,
            cust_state,
            cust_zip,
            cust_contact,
            cust_email
        )
    VALUES (
            1,
            'Toy Land',
            '123 AnyStreet',
            'NY',
            5167,
            NULL,
            NULL
        );
    
Второй способ записи предусматривает перечисление полей в которые
будут внесены значения, разделителем тут является слово `VALUES`
при первой форме записи данные указываются после этого слова.
При второй форме записи требуется указывать поля перед словом
`VALUES` и значения после него.

### 2) Внесение части строки
Второй способ схож с первым, отличие заключается только в том
что тут мы передаем значения только для части данных строк.
Для тех полей которые не перечислены значения будут внесены по 
другому алгоритму, либо будет внесено значение NULL также если
то предусмотрено определением самой таблицы, либо будет
установлено значение по умолчанию, котрое также определяется
при создании таблицы.

### 3) Добавление результатов запроса. 

1) INSERT SELECT
По мимо превого и второго способа внесения данных в таблицу, есть 
и другой способ который предусматривает использование инструкции 
`SELECT` и не требует перечислениязначений в прямой форме, в место 
этого мы с начала делаем запрос, а потом результат запрса будет 
вставлен в инструкцию `INSERT`.

Такая форма вставки называется `INSERT SELECT`. Это используется
когда нем требуется перенести данные из одной табл в другую,
эта инструкция также хороша и тем что мы вставляем данные не по 
одной строке как в инструкции `INSERT` а сразу множество записей.

    INSERT INTO Customers(
                cust_id,
                cust_name,
                cust_city,
                cust_state,
                cust_zip,
                cust_contact,
                cust_email
            )
    SELECT  cust_id,
            cust_name,
            cust_city,
            cust_state,
            cust_zip,
            cust_contact,
            cust_email
    FROM CustNew;

С начала выполняется инструкция `SELECT` а после его результат 
вносится инструкцией `INSERT`. При этом SELECT можно также указывать 
условия WHERE и сортировку.

Если в Customers есть поля с id которые есть и в CustNew то 
можно получить ошибку, из за дублирования id.

2) SELECT INTO
Существует другой способ добавления данных, при котором `INSERT`
вообще не применяется, оно используется для переноса содержимого
одной таблицы в другую таблицу, которая создается на лету.
   
В отличии от INSERT SELECT когда данные добавляются в уже 
существующуу таблицу, здесь же `SELECT INTO` копирует данные
в новую таблицу, и также в зависимости от СУБД, перезаписывает
таблицу если она уже существует.

    SELECT * 
    INTO CustCopy
    FROM Customers;

Эта инструкция создает таблицу CustCopy и копирует в нее все 
содержимое таблицы Customers. Применяется синтаксис `SELECT *`
каждый столбец таблицы Customers будет скопирован в CustCopy.

Также можно указывать и конкретные столбцы а не все.

Также поддерживается и другой синтаксис:

    CREATE TABLE CustCopy AS
    SELECT * FROM Customers;


   























